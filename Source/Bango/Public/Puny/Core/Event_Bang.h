// Copyright Ghost Pepper Games, Inc. All Rights Reserved.

#pragma once
#include "Puny/Core/Event.h"

#include "Event_Bang.generated.h"

UCLASS(DisplayName="Bang")
class BANGO_API UPunyEvent_Bang : public UPunyEvent
{
	GENERATED_BODY()
	// ============================================================================================
	// CONSTRUCTION
	// ============================================================================================
public:
	
	// ============================================================================================
	// SETTINGS
	// ============================================================================================
protected:
	/** If true, deactivate signals from triggers can cause actions to run deactivate code. */
	UPROPERTY(Category="Settings", DisplayName="CanRunDeactivate", EditAnywhere)
	bool bRespondToDeactivateTriggers = false;
	
	// -------------------------------------------------------------------
	// Settings Getters/Setters
	// -------------------------------------------------------------------

	// ============================================================================================
	// STATE
	// ============================================================================================

	// -------------------------------------------------------------------
	// State Getters/Setters
	// -------------------------------------------------------------------
public:
	bool GetIsExpired() override;
	
	// -------------------------------------------------------------------
	// Delegates/Events
	// -------------------------------------------------------------------

	// ============================================================================================
	// METHODS
	// ============================================================================================
public:
	EPunyEventSignalType RespondToTriggerSignal_Impl(UPunyTrigger* Trigger, FPunyTriggerSignal Signal) override;
	
	// ============================================================================================
	// EDITOR SETTINGS
	// ============================================================================================

	// -------------------------------------------------------------------
	// Editor Settings Getters/Setters
	// -------------------------------------------------------------------

	// ============================================================================================
	// EDITOR STATE
	// ============================================================================================

	// -------------------------------------------------------------------
	// Editor State Getters/Setters
	// -------------------------------------------------------------------
public:
	FLinearColor GetDisplayBaseColor() override;

	void ApplyColorEffects(FLinearColor& Color) override;
	
	bool GetIsActive() override;
	
	// ============================================================================================
	// EDITOR METHODS
	// ============================================================================================
#if WITH_EDITOR
	void AppendDebugDataString_Game(TArray<FBangoDebugTextEntry>& Data) override;
#endif
};